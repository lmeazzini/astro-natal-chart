% Custom frontpage command removed to avoid conflicts


% Portuguese packages
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

% Geometry
\usepackage[top=2cm, bottom=2.5cm, left=3cm, right=3cm, footskip=1.5cm]{geometry}

% Modern fonts with fallback
\usepackage{lmodern}
\renewcommand{\familydefault}{\sfdefault}

% Better typography
\usepackage{microtype}

% Outline text
\usepackage{fancybox}

% Text pos to position texts in absolute coords for the first page.
\usepackage[absolute,overlay]{textpos}

% Table with adjustable sizes.
\usepackage{tabularx, makecell, multirow, longtable, array}

% Modern color palette
\usepackage{xcolor}
    \definecolor{genesis-red}{RGB}{184,25,24}
    \definecolor{genesis-dark}{RGB}{9,25,38}
    \definecolor{genesis-gray}{RGB}{108,117,125}
    \definecolor{genesis-light}{RGB}{248,249,250}
    \definecolor{genesis-accent}{RGB}{23,162,184}
    
    % Aliases for compatibility
    \definecolor{jauneUTC}{RGB}{184,25,24}
    \definecolor{jauneClairUTC}{RGB}{9,25,38}
    \definecolor{grisUTC}{RGB}{108,117,125}
    \definecolor{grisClairUTC}{RGB}{248,249,250}

% Assets path
\usepackage{graphicx}
    \graphicspath{{./assets/}}

\usepackage{floatrow}

% Maths
\usepackage{amsmath}

% Multicol
\usepackage{multicol}

% PGF Plots for advanced diagrams
\usepackage{pgfplots}
\pgfplotsset{compat=1.18}


% Modern header/footer design
\usepackage{fancyhdr}

% Main page style with modern design
\fancypagestyle{UTC}{
    \fancyhf{}% Clear header and footer
    \setlength{\headheight}{50pt}
    
    % Header with only Genesis logo
    \fancyhead[L]{}
    \fancyhead[C]{}
    \fancyhead[R]{%
        \raisebox{-8pt}{\includegraphics[height=25pt]{logo_genesis.png}}
    }
    
    % Modern footer with page number
    \fancyfoot[C]{%
        \color{genesis-gray}\sffamily\small
        \rule{2cm}{0.5pt}\ \textbf{\thepage}\ \rule{2cm}{0.5pt}
    }
    
    % No header rule for clean look
    \renewcommand{\headrule}{}
        
        % Portuguese captions
        \renewcommand{\contentsname}{Sumário}
        \renewcommand{\listfigurename}{Lista de Figuras}
        \renewcommand{\listtablename}{Lista de Tabelas}
        \renewcommand{\figurename}{Figura}
        \renewcommand{\tablename}{Tabela}
        \renewcommand{\appendixname}{Anexo}
        \renewcommand{\indexname}{Índice}
    }

% Plain page style for special pages
\fancypagestyle{plain}{
    \fancyhf{}
    \setlength{\headheight}{50pt}
    \fancyhead[R]{%
        \raisebox{-10pt}{\includegraphics[height=20pt]{logo_genesis.png}}
    }
    \fancyfoot[C]{%
        \color{genesis-gray}\sffamily\small
        \rule{2cm}{0.5pt}\ \textbf{\thepage}\ \rule{2cm}{0.5pt}
    }
    \renewcommand{\headrule}{}% No header rule for plain pages
}

\pagestyle{UTC}

% Modern title formatting
\usepackage{titlesec}

% Section titles with modern design (number and title on same line)
\titleformat{\section}
    {\color{genesis-dark}\sffamily\Large\bfseries}
    {\color{genesis-red}\Large\bfseries\thesection}
    {10pt}
    {\color{genesis-dark}\Large\bfseries}
    [\vspace{5pt}{\color{genesis-red}\rule{\textwidth}{2pt}}]
\titlespacing*{\section}{0pt}{20pt}{20pt}

% Subsection titles
\titleformat{\subsection}
    {\color{genesis-dark}\sffamily\large\bfseries}
    {\color{genesis-red}\thesubsection}
    {8pt}
    {\color{genesis-dark}}
    [\vspace{3pt}{\color{genesis-red}\rule{0.5\textwidth}{1pt}}]

% Subsubsection titles
\titleformat{\subsubsection}
    {\color{genesis-dark}\sffamily\normalsize\bfseries}
    {\color{genesis-red}\thesubsubsection}
    {6pt}
    {\color{genesis-dark}}

% Paragraph formatting
\titleformat{\paragraph}[runin]
    {\color{genesis-dark}\sffamily\normalsize\bfseries}
    {\theparagraph}
    {6pt}
    {}
    [.]
\titlespacing*{\paragraph}{0pt}{10pt}{6pt}



% Modern boxes and environments
\usepackage{tcolorbox}
\tcbuselibrary{most}

% Modern info box
\newtcolorbox{infobox}[1][]{
    enhanced,
    colback=genesis-light,
    colframe=genesis-accent,
    coltitle=white,
    colbacktitle=genesis-accent,
    fonttitle=\sffamily\bfseries,
    title=Informação,
    left=10pt,
    right=10pt,
    top=10pt,
    bottom=10pt,
    arc=3pt,
    boxrule=1pt,
    drop shadow,
    #1
}

% Warning box
\newtcolorbox{warningbox}[1][]{
    enhanced,
    colback=orange!10,
    colframe=orange!80,
    coltitle=white,
    colbacktitle=orange!80,
    fonttitle=\sffamily\bfseries,
    title=Atenção,
    left=10pt,
    right=10pt,
    top=10pt,
    bottom=10pt,
    arc=3pt,
    boxrule=1pt,
    drop shadow,
    #1
}

% Important box
\newtcolorbox{importantbox}[1][]{
    enhanced,
    colback=genesis-red!10,
    colframe=genesis-red,
    coltitle=white,
    colbacktitle=genesis-red,
    fonttitle=\sffamily\bfseries,
    title=Importante,
    left=10pt,
    right=10pt,
    top=10pt,
    bottom=10pt,
    arc=3pt,
    boxrule=1pt,
    drop shadow,
    #1
}


% Bibliography removed for compatibility


% Hide links
\usepackage[pdfusetitle]{hyperref}
    \hypersetup{hidelinks}


% Gestion sommaire
\usepackage{etoc}

% Lorem ipsum
\usepackage{lipsum}